<!DOCTYPE html>
<html>
	<head>


		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script type="text/javascript" src="http://malsup.github.com/jquery.form.js"></script>

		<script type="text/javascript">
			$(function() {
				$('#myform').submit(function(ev) {
					ev.preventDefault();
					$(this).ajaxSubmit({
						target: '#result',
						success: function(responseText, statusText, xhr, $form) {
							//$("#result").html(responseText);
							var json = JSON.parse(responseText);

                            var ul_refs = $('<ul>');
							var references = "<ul>";
							$(json.refs).each(function(index, item) {
                                ul_refs.append($(document.createElement('li')).text(item));
                            });

                            var ul_standards = $('<ul>');
                            var i = 0;
                            $(json.system1_titles).each(function(index, item) {
                                ul_standards.append($(document.createElement('li')).text("&lt;span title="Score"&gt;" + $(json.system1_sim)[i].toFixed(3) + "&lt;/span&gt;  " + item));
                                i++;
                            });

							$("#result").html("<h3>Standards Referenced in the Document</h3><ul>\n" + ul_refs.html() + "\n</ul><h3>Standards Recommended for the Document</h3><ul>\n" + ul_standards.html() + "\n</ul>");

							$('#result').show();
						},
						beforeSerialize: function($form, options) {
							$("#result").html("<span class=\"glyphicon glyphicon-refresh spinning\"></span> Loading...");
							$("#result").show();
						},
						error: function() {
							$("#result").html('<div class="alert alert-danger" role="alert"><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> Error</div>')
						}
					});
				});
			})
		</script>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Give me standards!</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet" href="custom.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/vendor/modernizr-2.8.3.min.js"></script>
	</head>
	<body>
<!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <nav class="navbar navbar-static-top">
      <div class="container">
        <!--<a class="ok-ribbon" href="https://okfn.org/"><img src="//okfnlabs.org/ok-panel/assets/images/ok-ribbon.png" alt="Open Knowledge"></a>-->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">

            <span class="text">ASSESS</span>
							<span>Automatic Semantic Search Engine for Suitable Standards</span>
          </a>
          <!--<span class="alpha release badge">alpha</span>-->
        </div>
<div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="#what" data-scroll >What is it?</a></li>
            <li><a href="#api" data-scroll >API</a></li>
            <li><a href="#source" data-scroll >Source Code</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <!-- page content start -->

    <div class="jumbotron inverse">
      <div class="container">
        <h1>Give Me Standards!</h1>
        <p>An easy to use web-based prototype to extract standard references from a document, and suggest suitable standards that should be included in the document.</p>
        <!--<form id="myform" method="POST" enctype="multipart/form-data" action="http://givemetext.okfnlabs.org/tika/tika/form">-->
        <form id="myform" method="POST" enctype="multipart/form-data" action="http://0.0.0.0:5000/predict">
        <span class="btn btn-default btn-file">
        Choose a file... <input type="file" name="file">
        </span>
	    <input style="color: black;" type="submit" class="btn btn-primary" value="Get Standards">
		</form>
		<div id="result" class="highlight" style="display:none;">
            <div id="references">References</div>
            <div id="standards">Standards</div>
		</div>
      </div>
    </div>

    <div class="container">
      <div class="row">
      <h2 id="what">What is it?</h2>

          <p>Give Me Standards is an online service that accepts a relevant document as input. These documents are likely to be Statements of Work, Requests for Quotes or Proposal, and other documents that will contain a listing of standards that are required to be adhered to during the course of the work to be done.</p>
					<p>Once the document is chosen and the Get Content button is clicked, a listing of standards referred to in the document will be returned, as well as a listing of recommended standards that should also be considered for inclusion.

      </div>
      <div class="row">

        <hr>
        <h2 id="api">API</h2>

          <p>There is an API behind this interface, but we haven't completed its documentation yet. More details to come!</p>

      </div>
      <div class="row">


        <hr>
        <h2 id="source">Source Code</h2>

          <p>The source code for the this project is located at <a href="https://github.com/nasa-jpl/ASSESS">https://github.com/nasa-jpl/ASSESS</a>.

      </div>
    </div>

    <footer class="site-footer">
      <div class="container">

      </div>
    </footer>

<script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

  </body>
</html>
